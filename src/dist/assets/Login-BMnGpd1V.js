import{e as g,g as f,r as h,j as e,m as y,b,d as j,h as N}from"./index-BeMRu7EZ.js";import{u as v}from"./index.esm-BChO6BRn.js";import{u as w}from"./useToast-Ck4PLXYN.js";import{M as L,L as S}from"./mail-BoDk0PLC.js";const M=()=>{const{login:m}=g(),{showToast:r}=w(),c=f(),[a,t]=h.useState(!1),{register:i,handleSubmit:d,formState:{errors:s}}=v(),u=async o=>{var l,n;try{t(!0),await m(o.email,o.password),r("Successfully logged in!","success"),c("/")}catch(x){const p=((n=(l=x.response)==null?void 0:l.data)==null?void 0:n.message)||"Login failed. Please try again.";r(p,"error")}finally{t(!1)}};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-base-100 p-8 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(b,{className:"h-8 w-8 mr-2 text-primary-500"}),e.jsx("h1",{className:"text-2xl font-display font-bold",children:"MemeHub"})]}),e.jsx("h2",{className:"text-xl font-medium",children:"Welcome back!"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Login to continue your meme journey"})]}),e.jsxs("form",{onSubmit:d(u),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(L,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"email",type:"email",...i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.email?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"you@example.com"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"password",type:"password",...i("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.password?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"••••••••"})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.password.message})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary-500 text-white py-2 rounded-md hover:bg-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:a?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(j,{size:"sm",color:"text-white"}),e.jsx("span",{className:"ml-2",children:"Logging in..."})]}):"Login"}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(N,{to:"/register",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign up"})]})})]})]})})};export{M as default};
