import{e as y,g as b,r as j,j as e,m as N,b as v,U as w,d as P,h as A}from"./index-BeMRu7EZ.js";import{u as L}from"./index.esm-BChO6BRn.js";import{u as S}from"./useToast-Ck4PLXYN.js";import{M as U,L as m}from"./mail-BoDk0PLC.js";const F=()=>{const{register:c}=y(),{showToast:t}=S(),d=b(),[i,o]=j.useState(!1),{register:a,handleSubmit:u,watch:x,formState:{errors:s}}=L(),p=x("password"),f=async r=>{var n,l;try{o(!0),await c(r.username,r.email,r.password),t("Account created successfully!","success"),d("/")}catch(h){const g=((l=(n=h.response)==null?void 0:n.data)==null?void 0:l.message)||"Registration failed. Please try again.";t(g,"error")}finally{o(!1)}};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-base-100 p-8 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(v,{className:"h-8 w-8 mr-2 text-primary-500"}),e.jsx("h1",{className:"text-2xl font-display font-bold",children:"MemeHub"})]}),e.jsx("h2",{className:"text-xl font-medium",children:"Create an account"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Join the ultimate meme community"})]}),e.jsxs("form",{onSubmit:u(f),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"username",type:"text",...a("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"},maxLength:{value:20,message:"Username must be less than 20 characters"},pattern:{value:/^[a-zA-Z0-9_]+$/,message:"Username can only contain letters, numbers, and underscores"}}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.username?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"memeMaster42"})]}),s.username&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"email",type:"email",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.email?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"you@example.com"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(m,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"password",type:"password",...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.password?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"••••••••"})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(m,{size:18,className:"text-gray-400"})}),e.jsx("input",{id:"confirmPassword",type:"password",...a("confirmPassword",{required:"Please confirm your password",validate:r=>r===p||"Passwords do not match"}),className:`w-full pl-10 pr-3 py-2 rounded-md border focus:ring focus:ring-opacity-50 focus:outline-none ${s.confirmPassword?"border-error-500 focus:ring-error-200":"border-gray-300 focus:ring-primary-200 focus:border-primary-500"}`,placeholder:"••••••••"})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-error-500",children:s.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary-500 text-white py-2 rounded-md hover:bg-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(P,{size:"sm",color:"text-white"}),e.jsx("span",{className:"ml-2",children:"Creating account..."})]}):"Create Account"}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(A,{to:"/login",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Login"})]})})]})]})})};export{F as default};
